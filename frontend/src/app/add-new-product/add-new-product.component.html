<div class="container my-2">
  <div class="row">
    <div class="col">
      <form #productForm="ngForm" (ngSubmit)="addProduct(productForm)" novalidate>
        <div class="mb-3 form-floating">
          <input
            type="text"
            class="form-control"
            id="productName"
            name="productName"
            placeholder="Product Name"
            [(ngModel)]="product.productName"
            maxlength="30"
            required
          />
          <label for="productName">Product Name</label>
        </div>
        <div class="mb-3 form-floating">
          <textarea
            class="form-control"
            id="productDesc"
            name="productDesc"
            placeholder="Product brief.."
            maxlength="1020"
            [(ngModel)]="product.productDesc"
            required
          ></textarea>
          <label for="productDesc">Product Description</label>
        </div>
        <div class="mb-3 form-floating">
          <input
            type="number"
            class="form-control"
            id="productOgPrice"
            name="productOgPrice"
            placeholder="Product actual price"
            [(ngModel)]="product.productOgPrice"
            required
          />
          <label for="productOgPrice">Actual Price</label>
        </div>
        <div class="mb-3 form-floating">
          <input
            type="number"
            class="form-control"
            id="productDiscPrice"
            name="productDiscPrice"
            placeholder="Product discounted price"
            [(ngModel)]="product.productDiscPrice"
            required
          />
          <label for="productDiscPrice">Discounted Price</label>
        </div>

        <button type="reset" class="btn btn-secondary">Clear</button>
        <button *ngIf="isNewProduct" type="submit" class="btn btn-primary mx-2">Add Product</button>
        <button *ngIf="! isNewProduct" type="submit" class="btn btn-info mx-2">Update Product</button>
      </form>
    </div>
    <div class="col">
      <div class="input-group mb-3">
        <input
          type="file"
          class="form-control"
          multiple
          id="selectFile"
          (change)="onFileSelected($event)"
        />
        <label class="input-group-text" for="selectFile">Browse</label>
      </div>

      <div class="container text-center">
        <div class="row row-cols-4">
          <div
            class="col m-2"
            style="border: 1px solid #eee; position: relative; border-radius: 5px;"
            *ngFor="let file of product.productImages; let i = index"
          >
            <span class="btn-remove-image" (click)="removeImage(i)">x</span>
            <img
              [src]="file.url"
              width="100px"
              height="100px"
              class="img-fluid rounded"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
